name: 12 - Working with Inputs
on: 
  workflow_dispatch:
    inputs:
        dry-run:
          description: "Skip deployment and only print build output"
          type: boolean           
          default: false
        target:
          description: "Which Environment the workflow will target"
          type: environment
        tag:
          description: "Release from which to build and deploy"
          type: choice           
          options:
            - v1
            - v2
            - v3

jobs:
    build: 
        runs-on: ubuntu-latest
        steps: 
          - name: Build
            run: echo "Building from tag ${{inputs.tag}}"
    deploy: 
        needs: build
        if: ${{!inputs.dry-run}}
        runs-on: ubuntu-latest
        steps: 
          - name: Deploy
            run: echo "Deploy to ${{inputs.target}}"
